/*
 *  jQuery Event Slider - v0.0.0
 *  A responsive CSS slider that can fire multiple custom events.
 *  http://jqueryboilerplate.com
 *
 *  Made by Tommy Fisher
 *  Under MIT License
 */
!function(a,b,c,d){function e(b,c){this.element=b,this.options=a.extend({},g,c),this._defaults=g,this._name=f,this.init()}var f="eventSlider",g={auto:!0,delay:3e3,hoverPause:!1,direction:"next",pager:!0,nav:!0,firstSlide:0,renderSingle:!1,eventsPre:[],eventsPost:[],functionsPre:[],functionsPost:[],transitionDuration:0,onInit:function(){},onPreStart:function(){},onPreEnd:function(){},onPostStart:function(){},onPostEnd:function(){}};e.prototype={slider:{},slideCount:"",hiddenClass:"slider_hidden",autoTimer:{},timings:[],timingsTimeoutPre:[],timingsTimeoutPost:[],timingsFunctionsPre:[],timingsFunctionsPost:[],init:function(){var b=a(this.element);this.slideCount=this.setSlideCount(),(this.slideCount>1||this.options.renderSingle===!0)&&(b.addClass(f),this.setLiH(),this.buildWrap(),this.buildNav(),this.buildPager(),this.setActivePagerItem(this.options.firstSlide),this.detectCss(),this.resize(),this.hoverPauseFn(),this.directionClick(),this.setLiOpacity(this.options.firstSlide,!1),this.getTotalDuration(),this.options.onInit&&"function"==typeof this.options.onInit&&this.options.onInit(),this.options.auto===!0&&this.start())},buildWrap:function(){a(this.element).wrap('<div class="'+f+'-wrap">')},buildNav:function(){var b,c=this;this.options.nav&&(this.slider.navEl=a('<div class="'+f+'-nav"><div class="'+f+'-dir-prev"></div><div class="'+f+'-dir-next"></div></div>'),a(this.element).closest("."+f+"-wrap").append(this.slider.navEl),b=this.slider.navEl,this.slider.navEl.delegate('div[class^="'+f+'-dir-"]',"click",function(){c.navClick(b,this)}))},buildPager:function(){var b,c=this;this.options.pager&&(this.slider.pagerEl=a('<div class="'+f+'-pager" />'),a(this.element).closest("."+f+"-wrap").append(this.slider.pagerEl),b=this.slider.pagerEl,this.populatePager(),this.slider.pagerEl.delegate("a","click",function(){c.pagerClick(b,this)}))},populatePager:function(){var a,b="";for(a=0;a<this.slideCount;a++)b+='<a class="'+f+'-pager-item" data-index="'+a+'"></a>';this.slider.pagerEl.html(b)},detectCss:function(){function b(a){var b,e=!1,f="Webkit Moz ms O".split(" "),g=c.createElement("div"),h=null;if(a=a.toLowerCase(),g.style[a]&&(e=!0),e===!1)for(h=a.charAt(0).toUpperCase()+a.substr(1),b=0;b<f.length;b++)if(g.style[f[b]+h]!==d){e=!0;break}return e}var e=b("transform"),g=b("transition");e||a(this.element).addClass(f+"-no-transform"),g||a(this.element).addClass(f+"-no-transition")},setSlideCount:function(){return a(this.element).find("li").length},setLiH:function(){var b=a(this.element),c=b.outerHeight();b.find("li").css("height",c+"px")},setLiOpacity:function(b,c){var d=this;0!==this.options.transitionDuration&&c!==!1&&this.transitionClass(),a(this.element).find("li").each(function(c,e){c!==b&&a(e).addClass(d.hiddenClass)}),a(this.element).find("li:eq("+b+")").removeClass(d.hiddenClass),c!==!1&&(0!==this.options.transitionDuration?(setTimeout(a.proxy(this.postEvents,this,c),this.options.transitionDuration),setTimeout(a.proxy(this.transitionClass,this,!0),this.options.transitionDuration)):this.postEvents(c))},transitionClass:function(b){b===!0?a(this.element).removeClass(f+"-in-transition"):a(this.element).addClass(f+"-in-transition")},removeEventClass:function(b,c){var d=this.padNumber(b,2);a(this.element).removeClass(f+"-"+c+"-"+d),a(this.element).removeClass(f+"-"+c+"-next "+f+"-"+c+"-prev")},addEventClass:function(b,c,d){var e=this.padNumber(b,2);a(this.element).addClass(f+"-"+d+"-"+e),a(this.element).addClass(f+"-"+d+"-"+c)},setActivePagerItem:function(b){this.options.pager&&(a(this.slider.pagerEl).find("a.active").removeClass("active"),a(this.slider.pagerEl).find("a").eq(b).addClass("active"))},padNumber:function(a,b){return a=a.toString(),a.length<b?this.padNumber("0"+a,b):a},getTotalDuration:function(){var a=0,b=0,c=this.options.eventsPre,d=this.options.eventsPost;return"undefined"!=typeof c&&c instanceof Array&&c.length>0&&(a=c[c.length-1][1]),"undefined"!=typeof d&&d instanceof Array&&d.length>0&&(b=d[d.length-1][1]),a+b+this.options.transitionDuration+this.options.delay},start:function(){var b=this.getTotalDuration();this.autoTimer=setInterval(a.proxy(this.advance,this,this.options.direction),b)},stop:function(){clearInterval(this.autoTimer)},postEvents:function(b){var c,d=0;for(this.options.onPostStart&&"function"==typeof this.options.onPostStart&&this.options.onPostStart(),i=0;i<this.options.eventsPost.length;i++)this.timingsTimeoutPost[d]=setTimeout(a.proxy(this.addEventClass,this,i,b,"post"),this.options.eventsPost[i][0]),this.options.functionsPost[i]&&"undefined"!==this.options.functionsPost[i][0]&&"function"==typeof this.options.functionsPost[i][0]&&(this.timingsFunctionsPost[d]=setTimeout(a.proxy(this.options.functionsPost[i][0],this),this.options.eventsPost[i][0])),this.timingsTimeoutPost[d+1]=setTimeout(a.proxy(this.removeEventClass,this,i,"post"),this.options.eventsPost[i][1]),this.options.functionsPost[i]&&"undefined"!==this.options.functionsPost[i][1]&&"function"==typeof this.options.functionsPost[i][1]&&(this.timingsFunctionsPost[d+1]=setTimeout(a.proxy(this.options.functionsPost[i][1],this),this.options.eventsPost[i][1])),d+=2,i===this.options.eventsPost.length-1&&this.options.onPostEnd&&"function"==typeof this.options.onPostEnd&&(c=setTimeout(a.proxy(this.options.onPostEnd,this),this.options.eventsPost[i][1]))},transition:function(b,c){var d=a(this.element).find('li:not(".'+this.hiddenClass+'")').index();targetIndex=c?c:"next"===b?d+1>=this.slideCount?0:d+1:0>=d?this.slideCount-1:d-1,this.setActivePagerItem(targetIndex),this.setLiOpacity(targetIndex,b)},advance:function(b,c){var d,e,f=0;for(this.options.onPreStart&&"function"==typeof this.options.onPreStart&&this.options.onPreStart(),i=0;i<this.options.eventsPre.length;i++)this.timingsTimeoutPre[f]=setTimeout(a.proxy(this.addEventClass,this,i,b,"pre"),this.options.eventsPre[i][0]),this.options.functionsPre[i]&&"undefined"!==this.options.functionsPre[i][0]&&"function"==typeof this.options.functionsPre[i][0]&&(this.timingsFunctionsPre[f]=setTimeout(a.proxy(this.options.functionsPre[i][0],this),this.options.eventsPre[i][0])),this.timingsTimeoutPre[f+1]=setTimeout(a.proxy(this.removeEventClass,this,i,"pre"),this.options.eventsPre[i][1]),this.options.functionsPre[i]&&"undefined"!==this.options.functionsPre[i][1]&&"function"==typeof this.options.functionsPre[i][1]&&(this.timingsFunctionsPre[f+1]=setTimeout(a.proxy(this.options.functionsPre[i][1],this),this.options.eventsPre[i][1])),f+=2,i===this.options.eventsPre.length-1&&(d=setTimeout(a.proxy(this.transition,this,b,c),this.options.eventsPre[i][1]),this.options.onPreEnd&&"function"==typeof this.options.onPreEnd&&(e=setTimeout(a.proxy(this.options.onPreEnd,this),this.options.eventsPre[i][1])))},next:function(){this.advance("next")},prev:function(){this.advance("prev")},directionClick:function(){var b=this;a("body").on("click",".eventSlider-left",function(b){var c=a(this).parent("."+f+"-navbar").prev("ul");c.prev(),b.preventDefault()}),a("body").on("click",".eventSlider-right",function(a){b.next(),a.preventDefault()})},navClick:function(b,c){var d=a(c).attr("class").split("-"),e=d[d.length-1];this.advance(e)},pagerClick:function(b,c){var d,e=a(b).prevAll("."+f).find('li:not(".'+this.hiddenClass+'")').index(),g=a(c).attr("data-index");d=e>=g?"prev":"next",this.advance(d,g)},hoverPauseFn:function(){var b=this;this.options.hoverPause===!0&&this.options.auto===!0&&a(this.element).hover(function(){b.stop()},function(){b.start()})},resize:function(){var c=this;!function(a,b){var c=function(a,b,c){var d;return function(){function e(){c||a.apply(f,g),d=null}var f=this,g=arguments;d?clearTimeout(d):c&&a.apply(f,g),d=setTimeout(e,b||30)}};jQuery.fn[b]=function(a){return a?this.bind("resize",c(a)):this.trigger(b)}}(jQuery,"smartresize"),a(b).smartresize(function(){c.setLiH()})}},a.fn[f]=function(b){var c,g=arguments;return b===d||"object"==typeof b?this.each(function(){a.data(this,"plugin_"+f)||a.data(this,"plugin_"+f,new e(this,b))}):"string"==typeof b&&"_"!==b[0]&&"init"!==b?(this.each(function(){var d=a.data(this,"plugin_"+f);d instanceof e&&"function"==typeof d[b]&&(c=d[b].apply(d,Array.prototype.slice.call(g,1))),"destroy"===b&&a.data(this,"plugin_"+f,null)}),c!==d?c:this):void 0}}(jQuery,window,document);